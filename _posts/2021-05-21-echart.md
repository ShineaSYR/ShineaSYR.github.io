---
layout: post
title: é‚£äº›å¹´ï¼Œä¸ºechartsç•™ä¸‹çš„çœ¼æ³ª
categories: [echart]
description: å›¾è¡¨é€‰å‹çš„åŸå› ï¼ŒEchartå¿«é€Ÿå…¥é—¨ä»¥åŠå„ç±»è®¾ç½®ã€‚
keywords: echart, chart, IE
---


## å›¾è¡¨é€‰å‹åŸå› 
ä¸šç•Œå†…æ¯”è¾ƒæµè¡Œçš„å›¾è¡¨æ’ä»¶ä¸»è¦æœ‰**D3** ğŸ†š **Highcharts** ğŸ†š **ECharts**
- D3ã€‚ä¸»è¦æ˜¯å½¢æˆsvgï¼Œé€‚åˆäº¤äº’ç±»çš„å›¾è¡¨ï¼Œä¸Šæ‰‹æˆæœ¬é«˜ï¼Œä¸åˆ©äºå¿«é€Ÿå¼€å‘éœ€è¦ï¼Œæœªé€‰æ‹©ï¼›
- Highchartsã€‚ä¹Ÿæ˜¯å½¢æˆsvgï¼Œé€‚åˆäº¤äº’ç±»çš„å›¾è¡¨ï¼Œä¸Šæ‰‹æˆæœ¬ä¸€èˆ¬ï¼Œæœ‰ç›¸åº”çš„æ–‡æ¡£ä¸å¼€å‘ç”Ÿæ€ï¼Œæœ€åˆè€ƒè™‘åˆ°ä¸å…¼å®¹IE8ä¼šæœ‰ç‚¹é—®é¢˜ï¼Œæ‰€ä»¥æ²¡é€‰æ‹©ï¼Œåé¢æ‰å‘ç°æ˜¯è‡ªå·±å§¿åŠ¿é”™äº†ã€‚
- EChartsã€‚åº•å±‚æ˜¯Canvasï¼Œä¸Šæ‰‹æˆæœ¬ä¸€èˆ¬ï¼Œæ–‡æ¡£ä¸å¼€å‘ç”Ÿæ€è‰¯å¥½ï¼Œä¸»è¦æ˜¯çŸ¥é“å…¼å®¹IE8ï¼Œæ‰€ä»¥é€‰æ‹©äº†å®ƒã€‚

## EChartsç›¸å…³
### åœ¨çº¿å®šåˆ¶å›¾è¡¨
EChartså¯ä»¥è‡ªè¡Œé…ç½®jsåŒ…çš„å†…å®¹ï¼Œè®¿é—®[é“¾æ¥](https://echarts.apache.org/zh/builder.html)å³å¯æ ¹æ®è‡ªèº«éœ€æ±‚æ‰“åŒ…éœ€è¦çš„å›¾è¡¨ã€‚ï¼ˆPSï¼šæœ€ä¸‹æ–¹æœ‰â€œå…¼å®¹IE8â€çš„é€‰é¡¹ï¼‰

æˆ‘å®šåˆ¶çš„çš„å…¼å®¹IE8çš„å›¾è¡¨é“¾æ¥ ğŸ‘‰ [https://shineasyr.github.io/FESource/echarts3_8_0.mini.js](https://shineasyr.github.io/FESource/echarts3_8_0.mini.js)

å…³äºEChartsçš„æ›´å¤šå±æ€§ä»‹ç»å¯ä»¥ç‚¹å‡»[é“¾æ¥](https://echarts.apache.org/zh/option.html)è‡ªè¡Œæœç´¢

### å…¼å®¹ä¸è§†è§‰è¿˜åŸçš„å¤§PK

è§†è§‰ç¨¿å¤§è‡´é£æ ¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ‰åŒæŠ˜çº¿ï¼Œé¢ç§¯éœ€è¦ä¸ºæ¸å˜è‰²ï¼ŒXYè½´çš„ä¹Ÿä¸ºè‡ªå®šä¹‰é¢œè‰²ã€‚
![å›¾è¡¨è§†è§‰ç¨¿]({{ site.url }}

/assets/images/echart-ui.png)

**1. å¿«é€Ÿä¸Šæ‰‹**
ï¼ˆè‹¥ä¸ºEChartsç†Ÿç»ƒå·¥ï¼Œå¯è·³åˆ°ä¸‹ä¸€è¶´ï¼‰
å®˜æ–¹å¿«é€Ÿä¸Šæ‰‹[æ–‡æ¡£](https://echarts.apache.org/zh/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts)ï¼Œä¸‹é¢è´´ä¸€ä¸‹è§†è§‰è¿˜åŸçš„é¡µé¢ï¼ˆPSï¼šIE8å…¼å®¹æ€§ï¼Œå»ºè®®æœ¬åœ°æ‹·è´åæ‰“å¼€æµ‹è¯•ï¼‰ã€‚

ç•Œé¢é“¾æ¥ ğŸ‘‰ [codePen](https://codepen.io/shineasyr/full/xxqgeZx) ã€<a href="https://shineasyr.github.io/Produce101/echart-fe.html" target="_blank">Github Page</a>
```html
<div class="shinea-chart" id="shineaChart" ></div>
.shinea-chart {min-height: 400px;}

```
è¿˜åŸç•Œé¢å¦‚ä¸‹æ‰€ç¤º
![å›¾è¡¨è¿˜åŸç•Œé¢]({{ site.url }}

/assets/images/echart-fe.png)

**2. å„ç±»ç‰¹æ®Šè®¾ç½®**

å‚æ•°è®¾ç½®æ–‡æ¡£ ğŸ‘‰ [https://echarts.apache.org/v4/zh/option.html](https://echarts.apache.org/v4/zh/option.html)
- é¢ç§¯æ¸å˜è‰² `areaStyle` 
```javascript
// seriesé‡Œè®¾ç½®
areaStyle: {
    normal: {
        color: {
        type: 'linear',
        x0: 0,
        y0: 0,
        x2: 0,
        y2: 1,
        colorStops: [{
            offset: 0,
            color: 'rgba(0, 103, 229, 0.2)',
        }, {
            offset: 0.5,
            color: 'rgba(0, 103, 229, 0.08)',
        }, {
            offset: 1,
            color: 'rgba(0, 103, 229, 0)',
        }],
        globalCoord: false
        }
    }
}
```
- XYè½´çº¿è®¾ç½®
```javascript
// xAxis/yAxisé‡Œè®¾ç½®
axisTick: {show: false},  //  åæ ‡è½´åˆ»åº¦-çŸ­çº¿
axisLabel: {              // åˆ»åº¦æ ‡ç­¾
    textStyle: {
        color: '#525252',
        fontSize : 12
    }
},
axisLine: {             // åæ ‡è½´è½´çº¿
    lineStyle: {
        color: "rgba(21, 26, 48, 0.12)",
        type: "dashed"
    },
},
// åˆ†å‰²çº¿ï¼Œæ•°å€¼è½´ç‰¹æœ‰(yAxis)
splitLine: {
    lineStyle: {
        color: "rgba(21, 26, 48, 0.12)",
        type: "dashed"
    }
}
```
- æ•°å€¼è½´è®¾ç½®(yAxis)
```javascript
// å•ä½
yAxis: [{
    axisLabel: {  
      show: true,
      formatter: '{value}%'   // å•ä½
    },
}]

// æœ€å°åˆ»åº¦ ï¼Œå¯ä»¥è®¾ç½® 0.01 æˆ– 1 æˆ–å…¶ä»–
yAxis: [{
    axisLabel: {  
      show: true,  
      minInterval: 1,     // æœ€å°åˆ»åº¦
    },
}]

// åˆ»åº¦æ ‡ç­¾é—´è· é¿å…æ•°å­—æ ‡ç­¾æ–‡æœ¬è¢«åˆ‡å‰²ï¼Œç¨å¾®ä¸‹ç§»
yAxis: [{
    axisLabel: {  
      show: true,
      padding: [5, 0, 0, 0],    // é—´è·
    },
}]
```
äº¤äº’é—®é¢˜ï¼š
a: æ•°æ®ä¸º0æ˜¯ï¼Œæ•°å€¼è½´ä¼šå‡ºç°å°æ•°â€”â€”è°ƒæ•´æœ€å°åˆ»åº¦å³å¯;
b: æ•°å€¼è½´éœ€è¦å•ä½ï¼Œ`formatter`ä¸€ä¸‹å³å¯

![å›¾è¡¨è¿˜åŸç•Œé¢]({{ site.url }}

/assets/images/echart-question.png)
- ç±»ç›®è½´è®¾ç½®(xAxis)
```javascript
// é—´éš” 0ä¸€ä¸ªæŒ¨ä¸€ä¸ªæ˜¾ç¤ºï¼Œ1æ˜¾ç¤ºä¸€ä¸ªè·³è¿‡ä¸€ä¸ªå†æ˜¾ç¤º
xAxis: {
    axisLabel: {
        interval: 1,
    },
}
```
- æ ·å¼è®¾ç½®
```javascript
// å›¾è¡¨ç»˜åˆ¶ç½‘æ ¼
grid: {
    top: '3%',
    left: '2%',
    right: '3%',
    bottom: '12%',
    containLabel: true  // grid åŒºåŸŸæ˜¯å¦åŒ…å«åæ ‡è½´çš„åˆ»åº¦æ ‡ç­¾
},
```

## å°ç»“
- EChartæ”¯æŒå›¾è¡¨å®šåˆ¶&IE8å…¼å®¹
- [å…¥é—¨](https://echarts.apache.org/zh/tutorial.html)å¾ˆç®€å•
- [å„ç±»è®¾ç½®](https://echarts.apache.org/v4/zh/option.html)éœ€è¦å¤šå°è¯•

ä»¥ä¸Šï¼Œç»“æŸå•¦ï½

å¦‚æœåç»­è¿˜æœ‰å…¶ä»–çš„å›¾è¡¨å°è¯•ï¼Œä¼šç»§ç»­æ›´æ–°ã€‚

å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œä¹Ÿæ¬¢è¿å°ä¼™ä¼´ä»¬çš„çƒ­æƒ…äº¤æµ
